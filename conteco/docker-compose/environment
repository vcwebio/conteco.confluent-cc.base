#!/usr/bin/env bash

# START CONFIGURATION
DOLLAR='$'
export CONTECO_DC_GLOBAL_STACKS="confluent_cc.base"
export CONTECO_DC_GLOBAL_STACKNAMES="conteco_dc_confluent"
export CONTECO_DC_GLOBAL_BOOTSTACKS="conteco_dc_confluent"
export CONTECO_DC_GLOBAL_RUNSTACKS=""
export CONTECO_DC_GLOBAL_VOLUME_LIST="${DOLLAR}{CONTECO_STACKPREFIX}_confluent_volume"
export CONTECO_DC_GLOBAL='$CONTECO_DC_GLOBAL_SERVICE_NAME,$CONTECO_DC_GLOBAL_IMAGE_NAME,$CONTECO_DC_CONFLUENT_ENVIRONMENT,$CONTECO_DC_CONFLUENT_COMMAND,$CONTECO_DC_CONFLUENT_VOLUMES,$CONTECO_DC_CONFLUENT_NETWORKS,$CONTECO_DC_CONFLUENT_DEPLOY_LABELS,$CONTECO_DC_CONFLUENT_DEPLOY_MODE,$CONTECO_DC_GLOBAL_VOLUMES,$CONTECO_DC_GLOBAL_NETWORKS'
# END CONFIGURATION

# START GLOBAL SETTINGS
export CONTECO_DC_GLOBAL_SERVICE_NAME="${CONTECO_TYPE}"
export CONTECO_DC_GLOBAL_IMAGE_NAME="${CONTECO_TYPE}.${CONTECO_NAME}:${CONTECO_TAG}"
export CONTECO_DC_CONFLUENT_ENVIRONMENT="\
'CONTROL_CENTER_BOOTSTRAP_SERVERS= kafka:9092',\
'CONTROL_CENTER_ZOOKEEPER_CONNECT= zookeeper:2181',\
'CONTROL_CENTER_CONNECT_CLUSTER= \"kafka_connect:8083\"',\
'CONTROL_CENTER_KSQL_URL= \"http://ksql-server:8088\"',\
'CONTROL_CENTER_KSQL_ADVERTISED_URL= \"http://ksql_server:8088\"',\
'CONTROL_CENTER_SCHEMA_REGISTRY_URL= \"http://schema_registry:8081\"',\
'CONTROL_CENTER_REPLICATION_FACTOR= 1',\
'CONTROL_CENTER_INTERNAL_TOPICS_PARTITIONS= 1',\
'CONTROL_CENTER_MONITORING_INTERCEPTOR_TOPIC_PARTITIONS= 1',\
'CONFLUENT_METRICS_TOPIC_REPLICATION= 1'${DOLLAR}{CONTECO_DC_CONFLUENT_LISTENERS}"
export CONTECO_DC_CONFLUENT_COMMAND=
export CONTECO_DC_CONFLUENT_VOLUMES="'${DOLLAR}{CONTECO_STACKPREFIX}_confluent_volume:/var/lib/kafka/data'"
export CONTECO_DC_CONFLUENT_NETWORKS="${DOLLAR}{CONTECO_NETWORKLOCAL}_overlay"
export CONTECO_DC_CONFLUENT_DEPLOY_LABELS=
export CONTECO_DC_CONFLUENT_DEPLOY_MODE="replicated"
export CONTECO_DC_GLOBAL_VOLUMES="${DOLLAR}{CONTECO_STACKPREFIX}_confluent_volume: { external: true }"
export CONTECO_DC_GLOBAL_NETWORKS="${DOLLAR}{CONTECO_NETWORKLOCAL}_overlay: { external: true }"
# END GLOBAL SETTINGS

# START SETTINGS kafka.base
export CONTECO_DC_CONFLUENT_LISTENERS=",'CONTROL_CENTER_LISTENERS= http://0.0.0.0:9021/'"
export CONTECO_DC_CONFLUENT_PORTS="9021:9021"
export CONTECO_DC_CONFLUENT_DEPLOY_RESOURCES_LIMITS_CPUS=
export CONTECO_DC_CONFLUENT_DEPLOY_RESOURCES_RESERVATIONS_CPUS="0.1"
export CONTECO_DC_CONFLUENT_DEPLOY_RESOURCES_LIMITS_MEMORY="512m"
export CONTECO_DC_CONFLUENT_DEPLOY_RESOURCES_RESERVATIONS_MEMORY="256m"
# END SETTINGS kafka.base

# START TOPLEVEL SETTINGS
# END TOPLEVEL SETTINGS
